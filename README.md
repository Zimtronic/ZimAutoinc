# ZimAutoinc
Autoincrement Bundle for Doctrine ODM MongoDB based Symfony2 applications.

Trying to get auto increment values that are not primary keys is not a simple task using Doctrie ODM with MongoDB. This very simple bundle will help with that objective.

Autogenerated integer values are not efficient in distributed horizontal scalable databases like MongoDB so I advice not to use this values for primary keys if itended for sharded deploys.  


Configuration
-------------

Add following entries to config.yml

<pre><code>
zim.autoincrement:
                    collection: counters
                    counters: ['myid']
</code></pre>

Add as many id counters as needed on counters config value.


Usage
-----

The bundle will add 'zim.autoincrement.generator' service to the container. To generate a new value just call service "generator" method passing the target counter name as argument.

For example inside a controller class:
<pre><code>
$next_available_value = $this->get('zim.autoincrement.generator')->generate('myid');
</code></pre>
